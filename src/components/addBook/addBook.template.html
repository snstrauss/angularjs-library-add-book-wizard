<div class="add-book-container">
    <div class="inner">
        <header>
            <h2>Add book - new book</h2>
            <step-indicator></step-indicator>
        </header>

        <main>
            <div ng-if="allGenres.length" ng-switch="getStep().name">
                <selection-list ng-switch-when="genre"
                                list="allGenres"
                                on-select="addToSelection"
                                selection-type="genre"
                                display-prop="name">
                </selection-list>
                <selection-list ng-switch-when="subgenre"
                                list="newBook.genre.subgenres"
                                on-select="addToSelection"
                                selection-type="subgenre"
                                display-prop="name"
                                extra-selection="{
                                    display: 'Add new',
                                    action: openNewSubGenre
                                }">
                </selection-list>
                <new-subgenre ng-switch-when="add" parent-genre="newBook.genre">
                </new-subgenre>
                <new-book-details ng-switch-when="information">
                </new-book-details>
                <h1 ng-switch-when="done">
                    DONE
                </h1>
            </div>
        </main>
        <footer>
            <button ng-repeat="direction in ['prev', 'next']" ng-click="move(direction)"
                    ng-if="getStep()[direction] !== false" class="move-button"
                    ng-disabled="!getStep()[direction]" ng-class="{'disabled': !getStep()[direction]}">
                {{direction}}
            </button>
        </footer>
    </div>
</div>